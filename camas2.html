<!DOCTYPE html>
<html>

<head>
</head>

<body>
    <div class="content">
        <div class="row">
            <div class="col-md-10">
                <div class="card">
                    <div class="card-header card-header-primary">
                        <h4 class="card-title ">Listado y asignación de camas</h4>
                    </div>
                    <div class="card-body">
                        <form>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th style="width: 56px;">Habitación</th>
                                                    <th style="width: 80px;">&nbsp;</th>
                                                    <th>nombre</th>
                                                    <th style="width: 52px;">&nbsp;</th>
                                                    <th style="width: 52px;">&nbsp;</th>
                                                    <th style="width: 52px;">&nbsp;</th>
                                                </tr>
                                            </thead>
                                            <style>
                                            .dark-edition .form-control,
                                            .is-focused .dark-edition .form-control {
                                                background-image: linear-gradient(to top, #9c27b0 2px, rgba(156, 39, 176, 0) 2px), linear-gradient(to top, rgba(180, 180, 180, 0) 0px, rgba(180, 180, 180, 0) 1px);
                                            }
                                            </style>
                                            <tbody id="cuerpo">
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-2">
       
            </div>
        </div>
    </div>
    <script>
    var datosDesdeSQL = 'xyzopqdatosdesdeelserver'




    var mismahabitacion = '0';
    for (var caso of JSON.parse(datosDesdeSQL)) {
        agregaLinea(caso.habitacion, caso.cama, caso.Paciente);

    }


    function agregaLinea(a, b, c) {
    	
        var linea = '<tr>';
        if (mismahabitacion != a) {
            mismahabitacion = a;
            linea = linea + '<th rowspan="2">' + a + '</th>';
        }
        linea = linea + '<td>cama ' + b + '</td>';
        linea = linea + '<td><input type="text" class="form-control"  value="' + c + '"></td>';
        linea = linea + '<td class="td-actions text-right"><button type="button" rel="tooltip" title="Asignar esta persona a esta cama" class="btn btn-white btn-link btn-sm"><i class="material-icons">save_alt</i></button></td>';
        
        if (c.length > 1){
        	linea = linea + '<td>&nbsp;</td>'
        	linea = linea + '<td class="td-actions text-right"><button type="button" rel="tooltip" title="Vaciar la cama" class="btn btn-white btn-link btn-sm"><i class="material-icons">close</i></button></td></tr>';
		}
		else {
			linea = linea + '<td class="td-actions text-right"><button type="button" rel="tooltip" title="Bloquear esta cama" class="btn btn-white btn-link btn-sm"><i class="material-icons">pan_tool</i></button></td>';
			linea = linea + '<td>&nbsp;</td>'
		}


        $("#cuerpo").append(linea);
    }

	
    $(document).ready(function() {


    });
    </script>
</body>

</html>